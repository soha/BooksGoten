from __future__ import division
from jinja2.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, TemplateNotFound
name = '\\tag_relation.html'

def root(context, environment=environment):
    l_book = context.resolve('book')
    l_tags = context.resolve('tags')
    if 0: yield None
    yield u'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">\n<html>\n<head>\n<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n<title>Top Page - register</title>\n</head>\n<body>\n\n<img src="%s"/><br>\n\n<form action="/reg/tag_relation/%s" method="POST">\n<select name="tag_keys" multiple>\n' % (
        escape(environment.getattr(l_book, 'image_url')), 
        escape(context.call(environment.getattr(l_book, 'key'))), 
    )
    l_tag = missing
    for l_tag in l_tags:
        if 0: yield None
        yield u'\n  <option value="%s" ' % (
            escape(context.call(environment.getattr(l_tag, 'key'))), 
        )
        if context.call(environment.getattr(context.call(environment.getattr(l_tag, 'key')), '__str__')) in environment.getattr(l_book, 'tags'):
            if 0: yield None
            yield u'selected'
        yield u'>\n  %s</option>\n' % (
            escape(environment.getattr(l_tag, 'title')), 
        )
    l_tag = missing
    yield u'\n</select>\n<br>\n<input type="submit" value="update">\n</form>\n<br>\n<a href="/catalog">\u66f8\u7c4d\u4e00\u89a7\u3078</a>\n</body>\n\n</html>'

blocks = {}
debug_info = '1=9&9=10&11=11&13=14&14=17&15=23&16=26'